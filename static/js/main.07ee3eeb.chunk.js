(this["webpackJsonpreact-gui"]=this["webpackJsonpreact-gui"]||[]).push([[0],{14:function(e,t,a){},15:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),s=a(7),l=a.n(s),c=a(2),u=a(3),o=a(1),i=a(5),m=a(4),d=function(){return r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",{scope:"col"},"Id"),r.a.createElement("th",{scope:"col"},"Name"),r.a.createElement("th",{scope:"col"},"Surname"),r.a.createElement("th",{scope:"col"},"Desc"),r.a.createElement("th",{scope:"col"},"Delete"),r.a.createElement("th",{scope:"col"},"Edit")))},h=function(e){var t=e.users.map((function(t,a){return r.a.createElement("tr",{key:a},r.a.createElement("td",null,t.id),r.a.createElement("td",null,t.name),r.a.createElement("td",null,t.surname),r.a.createElement("td",null,t.desc),r.a.createElement("td",null,r.a.createElement("button",{onClick:function(){return e.removeUser(a)}},"Delete")),r.a.createElement("td",null,r.a.createElement("button",{onClick:function(){return e.editUser(a)}},"Edit")))})),a=e.offset,n=e.page;return t=t.filter((function(e,t){return t>=a&&t<a+n})),r.a.createElement("tbody",{id:"db_tab"},t)},f=function(e){var t=e.pagePrevious,a=e.pageNext;return r.a.createElement("div",{className:"column nest"},r.a.createElement("ul",{className:"pager"},r.a.createElement("li",null,r.a.createElement("a",{onClick:t},"\u25b2\xa0\xa0Previous")),"\xa0\xa0\xa0\xa0\xa0\xa0",r.a.createElement("li",null,r.a.createElement("a",{onClick:a},"\u25bc\xa0\xa0Next"))),r.a.createElement("br",null),r.a.createElement("br",null))},b=function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).pageNext=function(){var e=n.state,t=e.offset,a=e.page;t+a<n.props.users.length&&n.setState({offset:t+a})},n.pagePrevious=function(){var e=n.state,t=e.offset,a=e.page;t-a>=0&&n.setState({offset:t-a})},n.state={offset:0,page:5},n.pageNext=n.pageNext.bind(Object(o.a)(n)),n.pagePrevious=n.pagePrevious.bind(Object(o.a)(n)),n}return Object(u.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"row"},r.a.createElement("table",{className:"table"},r.a.createElement(d,null),r.a.createElement(h,{users:this.props.users,removeUser:this.props.removeUser,editUser:this.props.editUser,offset:this.state.offset,page:this.state.page})),r.a.createElement(f,{pageNext:this.pageNext,pagePrevious:this.pagePrevious}))}}]),a}(n.Component),p=a(8),E={id:"",name:"",surname:"",desc:""},g=function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).handleChange=function(e){var t=e.target,a=t.name,r=t.value;n.setState(Object(p.a)({},a,r))},n.submitForm=function(){n.props.handleSubmit(n.state),n.setState(E)},n.state=E,n.handleChange=n.handleChange.bind(Object(o.a)(n)),n.submitForm=n.submitForm.bind(Object(o.a)(n)),n}return Object(u.a)(a,[{key:"render",value:function(){var e=this.state,t=e.id,a=e.name,n=e.surname,s=e.desc;return r.a.createElement("form",null,r.a.createElement("label",null,"Id\xa0"),r.a.createElement("input",{type:"text",name:"id",value:t,onChange:this.handleChange}),r.a.createElement("label",null,"\xa0\xa0\xa0Name\xa0"),r.a.createElement("input",{type:"text",name:"name",value:a,onChange:this.handleChange}),r.a.createElement("label",null,"\xa0\xa0\xa0Surname\xa0"),r.a.createElement("input",{type:"text",name:"surname",value:n,onChange:this.handleChange}),r.a.createElement("label",null,"\xa0\xa0\xa0Desc\xa0"),r.a.createElement("input",{type:"text",name:"desc",value:s,onChange:this.handleChange}),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("input",{type:"button",value:"Submit",onClick:this.submitForm}))}}]),a}(n.Component),v="http://77.120.241.80:8811/api/users/",U={id:"",name:"",surname:"",desc:""},j=function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(e){var n;Object(c.a)(this,a),(n=t.call(this,e)).getUsers=function(){fetch(v).then((function(e){return e.json()})).then((function(e){n.setState({users:e})})).catch((function(e){console.error(e)}))},n.handleSubmit=function(e){var t=v+"?id="+e.id+"&name="+e.name+"&surname="+e.surname+"&desc="+e.desc+"&avatar="+e.avatar,a=n.state.editmode?"PUT":"POST";fetch(t,{method:a}).then((function(e){if(!e.ok)throw Error(e.statusText);return e.json()})).then((function(e){return console.log(e)})).catch((function(e){return console.log(e)})),n.getUsers(),n.edUser=U},n.editUser=function(e){n.edUser=n.state.users[e],n.setState({editmode:!0})},n.removeUser=function(e){var t=v+n.state.users[e].id;fetch(t,{method:"DELETE"}).then((function(e){if(!e.ok)throw Error(e.statusText);return e.json()})).then((function(e){return console.log(e)})).catch((function(e){return console.log(e)})),n.getUsers()};return n.state={users:[],editmode:!1},n.getUsers(),n.getUsers=n.getUsers.bind(Object(o.a)(n)),n.handleSubmit=n.handleSubmit.bind(Object(o.a)(n)),n.editUser=n.editUser.bind(Object(o.a)(n)),n.removeUser=n.removeUser.bind(Object(o.a)(n)),n}return Object(u.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"container"},r.a.createElement(b,{users:this.state.users,removeUser:this.removeUser,editUser:this.editUser}),r.a.createElement(g,{handleSubmit:this.handleSubmit,editMode:this.state.editmode,editUser:this.edUser}))}}]),a}(n.Component);a(14);l.a.render(r.a.createElement(j,null),document.getElementById("root"))},9:function(e,t,a){e.exports=a(15)}},[[9,1,2]]]);
//# sourceMappingURL=main.07ee3eeb.chunk.js.map